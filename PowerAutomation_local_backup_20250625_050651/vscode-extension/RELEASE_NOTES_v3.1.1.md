# PowerAutomation v3.1.1 發布說明

## 🎉 新功能 - 三角色權限系統

### 三種用戶角色
PowerAutomation v3.1.1 引入了完整的三角色權限系統，為不同類型的用戶提供專屬的體驗：

#### 🔴 **管理員 (Admin)**
- **API Key 格式**: `admin_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
- **完整系統權限**: 用戶管理、系統配置、數據分析
- **專屬功能**: 
  - 用戶管理面板
  - 系統監控儀表板
  - 服務器管理工具
  - 權限配置界面
  - 完整的調試工具
- **界面主題**: 紅色專業主題 (#dc3545)

#### 🟡 **開發者 (Developer)**  
- **API Key 格式**: `dev_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
- **開發工具權限**: API 訪問、調試工具、高級功能
- **專屬功能**:
  - 開發者調試面板
  - API 測試工具
  - 代碼分析器
  - 本地服務器管理
  - 高級聊天模式
- **界面主題**: 橙色開發主題 (#ff6b35)

#### 🟢 **用戶 (User)**
- **登錄方式**: OAuth（GitHub、Google、Microsoft）或郵箱登錄
- **自動生成**: 系統自動為用戶生成 `user_` 開頭的 API Key
- **基礎功能**:
  - 簡化的聊天界面
  - 基礎文件操作
  - 個人設置
  - 使用統計
- **界面主題**: 藍色友好主題 (#4285f4)

## 🔧 技術特性

### 兩套獨立界面系統
- **用戶界面**: 簡潔友好，專注於基礎功能
- **高級界面**: 功能完整，支援開發者和管理員的專業需求

### 智慧登錄流程
1. **界面選擇**: 用戶首先選擇使用方式（用戶模式 vs 開發者/管理員模式）
2. **自動識別**: 系統根據 API Key 前綴自動識別用戶角色
3. **權限分配**: 自動分配對應的功能權限和界面佈局

### 完整的權限管理
- **細粒度控制**: 每個功能都有對應的權限檢查
- **動態界面**: 根據權限動態顯示/隱藏功能模塊
- **安全驗證**: 前端和後端雙重權限驗證

## 🎯 使用指南

### 首次使用
1. 安裝擴展後，選擇您的使用方式
2. 根據身份類型完成相應的登錄流程
3. 享受專屬的功能和界面體驗

### 開發者/管理員登錄
- 選擇「開發者/管理員模式」
- 輸入您的 API Key（`admin_` 或 `dev_` 開頭）
- 系統自動識別角色並分配權限

### 用戶登錄
- 選擇「用戶模式」
- 使用 OAuth 或郵箱密碼登錄
- 系統自動生成專屬的 API Key

## 🔄 從 v3.1.0 升級

### 自動遷移
- 現有的登錄狀態將自動遷移
- API Key 格式保持兼容
- 配置設置自動保留

### 新功能體驗
- 首次啟動會顯示新的界面選擇
- 根據現有 API Key 自動分配角色
- 享受更豐富的功能和更好的用戶體驗

## 📋 完整功能列表

### 管理員專屬功能
- ✅ 用戶管理和權限分配
- ✅ 系統配置和監控
- ✅ 數據分析和報告
- ✅ 服務器管理工具
- ✅ 完整的調試功能

### 開發者專屬功能
- ✅ API 訪問和測試
- ✅ 本地開發模式
- ✅ 高級聊天功能
- ✅ 代碼分析工具
- ✅ SmartInvention 功能

### 用戶基礎功能
- ✅ 智能聊天助手
- ✅ 文件管理和分析
- ✅ 歷史記錄查看
- ✅ 個人設置配置

## 🛠️ 技術改進

### 架構優化
- **模組化設計**: 完全分離的認證服務和 UI 組件
- **TypeScript**: 完整的類型安全和編譯時檢查
- **響應式設計**: 適配 VS Code 主題和不同螢幕尺寸

### 安全性增強
- **API Key 驗證**: 嚴格的格式檢查和端點驗證
- **權限控制**: 所有敏感操作都進行權限檢查
- **安全存儲**: 使用 VS Code SecretStorage 保護用戶憑證

### 用戶體驗
- **智慧界面**: 根據用戶類型自動調整複雜度
- **視覺區分**: 不同角色使用不同的顏色主題
- **操作反饋**: 完整的錯誤處理和用戶提示

## 🐛 修復問題

- 修復了認證狀態的持久化問題
- 改進了 MCP 連接的穩定性
- 優化了界面響應速度和記憶體使用
- 修復了多個 TypeScript 編譯錯誤

## 📦 安裝方式

1. 下載 `powerautomation-local-mcp-3.1.1.vsix` 文件
2. 在 VS Code 中按 `Ctrl+Shift+P` 打開命令面板
3. 輸入 "Extensions: Install from VSIX..."
4. 選擇下載的 VSIX 文件進行安裝

## 🔗 API Key 獲取

如需獲取開發者或管理員 API Key，請聯繫：
- GitHub: https://github.com/alexchuang650730/aicore0623
- Email: support@powerautomation.ai

## 📞 支援與反饋

如有問題或建議，歡迎聯繫我們：
- 技術支援: support@powerautomation.ai
- 功能建議: feedback@powerautomation.ai
- 社群討論: GitHub Issues

---

**PowerAutomation Team**  
版本: v3.1.1  
發布日期: 2025-06-25  
檔案大小: 966KB

