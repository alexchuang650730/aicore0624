<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartUI å·¥ä½œåŒº - AI-First IDE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .terminal-output {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #00ff00;
            padding: 10px;
            border-radius: 5px;
            height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .chat-history {
            height: 400px;
            overflow-y: auto;
        }
        .chat-input-area {
            position: fixed;
            bottom: 0;
            left: 250px;
            right: 0;
            background: #2d3748;
            padding: 15px;
            border-top: 1px solid #4a5568;
        }
        .main-content {
            margin-bottom: 80px;
        }
        .file-item {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .file-item:hover {
            background-color: #4a5568;
        }
        .quick-action-btn {
            padding: 8px 12px;
            font-size: 14px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            min-height: 40px;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="bg-gray-800 text-white p-3 flex justify-between items-center border-b border-gray-700">
        <div class="flex items-center space-x-4">
            <span class="text-lg font-bold">SmartUI + SmartInvention Flow MCP</span>
            <span class="bg-green-600 text-white px-3 py-1 rounded text-sm">âœ“ è‡ªåŠ¨ç™»å½•æˆåŠŸ</span>
            <span class="bg-blue-600 text-white px-3 py-1 rounded text-sm">SmartInvention MCP å¯ç”¨</span>
            <span class="bg-purple-600 text-white px-3 py-1 rounded text-sm">Github å·²è¿æ¥</span>
            <span id="mode-indicator" class="bg-gray-600 text-white px-3 py-1 rounded text-sm">å¤„ç†æ¨¡å¼ï¼šğŸŒ äº‘ç«¯ç‰ˆæœ¬</span>
            <button onclick="toggleMode()" id="mode-toggle" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">åˆ‡æ¢åˆ°æœ¬åœ°</button>
            <span class="text-sm text-gray-300">alexchuang650730/aicore0624 é¡¹ç›® | 4 ä¸ªæ–‡ä»¶</span>
        </div>
        <button onclick="logout()" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-sm">é€€å‡ºç™»å½•</button>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="flex h-screen">
        <!-- å·¦ä¾§é¡¹ç›®æµè§ˆå™¨ -->
        <div class="w-64 bg-gray-800 p-4 overflow-y-auto">
            <h3 class="text-lg font-bold mb-4 flex items-center">
                <i class="fas fa-folder mr-2"></i>é¡¹ç›®æµè§ˆå™¨
            </h3>
            <div class="text-sm text-gray-300 mb-4">alexchuang650730/aicore0624</div>
            
            <!-- æ–‡ä»¶åˆ—è¡¨ -->
            <div class="space-y-1">
                <div onclick="openFile('PowerAutomation_local')" class="file-item flex items-center p-2 rounded">
                    <i class="fas fa-folder mr-2 text-gray-400"></i>
                    <span class="text-sm">PowerAutomation_local</span>
                    <span class="ml-auto text-xs text-green-400">âœ“ å·²å¯åŠ¨</span>
                </div>
                <div onclick="openFile('powerautomation_web')" class="file-item flex items-center p-2 rounded">
                    <i class="fas fa-folder mr-2 text-gray-400"></i>
                    <span class="text-sm">powerautomation_web</span>
                    <span class="ml-auto text-xs text-green-400">âœ“ å·²å¯åŠ¨</span>
                </div>
                <div onclick="openFile('README.md')" class="file-item flex items-center p-2 rounded">
                    <i class="fas fa-file mr-2 text-gray-400"></i>
                    <span class="text-sm">README.md</span>
                </div>
                <div onclick="openFile('package.json')" class="file-item flex items-center p-2 rounded">
                    <i class="fas fa-file mr-2 text-gray-400"></i>
                    <span class="text-sm">package.json</span>
                </div>
            </div>

            <!-- éƒ¨ç½²çŠ¶æ€ -->
            <div class="mt-6 p-3 bg-gray-700 rounded border border-green-600">
                <h4 class="text-sm font-bold mb-2 flex items-center text-green-400">
                    <i class="fas fa-check-circle mr-2"></i>ä¸€é”®éƒ¨ç½²çŠ¶æ€
                </h4>
                <div class="text-xs space-y-1">
                    <div class="flex items-center text-green-400">
                        <i class="fas fa-check mr-2"></i>
                        <span>PowerAutomation_local è‡ªåŠ¨æˆåŠŸ</span>
                    </div>
                    <div class="flex items-center text-green-400">
                        <i class="fas fa-check mr-2"></i>
                        <span>PowerAutomation_web è‡ªåŠ¨æˆåŠŸ</span>
                    </div>
                    <div class="flex items-center text-green-400">
                        <i class="fas fa-check mr-2"></i>
                        <span>SmartUI å·¥ä½œåŒºå·²å°±ç»ª</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§å·¥ä½œåŒº -->
        <div class="flex-1 flex flex-col">
            <!-- å·¥ä½œåŒºå¤´éƒ¨ -->
            <div class="bg-gray-800 p-4 border-b border-gray-700">
                <!-- æ ‡ç­¾é¡µ -->
                <div class="flex space-x-2">
                    <button onclick="showTab('cascade')" id="tab-cascade" class="bg-blue-600 text-white px-4 py-2 rounded flex items-center">
                        <i class="fas fa-magic mr-2"></i>Cascade åä½œ
                    </button>
                    <button onclick="showTab('composer')" id="tab-composer" class="bg-gray-600 text-white px-4 py-2 rounded flex items-center">
                        <i class="fas fa-code mr-2"></i>Composer
                    </button>
                    <button onclick="showTab('preview')" id="tab-preview" class="bg-gray-600 text-white px-4 py-2 rounded flex items-center">
                        <i class="fas fa-eye mr-2"></i>å®æ—¶é¢„è§ˆ
                    </button>
                    <button onclick="showTab('terminal')" id="tab-terminal" class="bg-gray-600 text-white px-4 py-2 rounded flex items-center">
                        <i class="fas fa-terminal mr-2"></i>ç»ˆç«¯æœº
                    </button>
                </div>
            </div>

            <!-- ä¸»å·¥ä½œåŒºå†…å®¹ -->
            <div class="flex-1 main-content">
                <!-- Cascade åä½œæ ‡ç­¾é¡µ -->
                <div id="content-cascade" class="h-full p-4">
                    <div class="flex h-full">
                        <!-- æ™ºèƒ½æŸ¥è¯¢åŒºåŸŸ -->
                        <div class="flex-1 mr-4">
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-robot mr-2"></i>æ™ºèƒ½æŸ¥è¯¢
                            </h3>
                            
                            <!-- æ¬¢è¿ä¿¡æ¯ -->
                            <div class="bg-blue-600 p-4 rounded-lg mb-4">
                                <h4 class="font-bold mb-2">ğŸ‰ æ¬¢è¿ä½¿ç”¨ SmartUI å·¥ä½œåŒºï¼</h4>
                                <p class="text-sm">æ‚¨å·²æˆåŠŸé€šè¿‡è‡ªåŠ¨ç™»å½•è¿›å…¥å·¥ä½œåŒºã€‚å½“å‰è¿è¡Œæ¨¡å¼ï¼š<span id="welcome-mode">äº‘ç«¯ç‰ˆæœ¬</span></p>
                                <p class="text-sm mt-1">æ‰€æœ‰å¿…è¦çš„æœåŠ¡å·²è‡ªåŠ¨å¯åŠ¨ï¼Œæ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨å„é¡¹åŠŸèƒ½ã€‚</p>
                            </div>
                            
                            <!-- å¯¹è¯å†å² -->
                            <div id="chat-history" class="chat-history bg-gray-800 rounded p-4 mb-4">
                                <div class="flex items-center justify-center h-full text-gray-400">
                                    <div class="text-center">
                                        <i class="fas fa-rocket text-4xl mb-4"></i>
                                        <p>è¾“å…¥æ‚¨çš„å¼€å‘éœ€æ±‚ï¼ŒAIå°†ä¸ºæ‚¨æä¾›è¯¦ç»†çš„æŠ€æœ¯æ–¹æ¡ˆå’Œä»£ç ç¤ºä¾‹</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å¿«é€Ÿæ“ä½œé¢æ¿ -->
                        <div class="w-80">
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-bolt mr-2"></i>å¿«é€Ÿæ“ä½œ
                            </h3>
                            
                            <div class="space-y-2">
                                <button onclick="openFolder()" class="quick-action-btn w-full bg-blue-600 hover:bg-blue-700 text-white">
                                    <i class="fas fa-folder-open mr-2"></i>
                                    <span class="font-bold">æ‰“å¼€æ–‡ä»¶å¤¹</span>
                                </button>
                                
                                <button onclick="cloneRepository()" class="quick-action-btn w-full bg-green-600 hover:bg-green-700 text-white">
                                    <i class="fas fa-code-branch mr-2"></i>
                                    <span class="font-bold">å…‹éš†Gitä»“åº“</span>
                                </button>
                                
                                <button onclick="connectRemote()" class="quick-action-btn w-full bg-purple-600 hover:bg-purple-700 text-white">
                                    <i class="fas fa-server mr-2"></i>
                                    <span class="font-bold">è¿æ¥è¿œç¨‹ä¸»æœº</span>
                                </button>
                                
                                <button onclick="createFile()" class="quick-action-btn w-full bg-orange-600 hover:bg-orange-700 text-white">
                                    <i class="fas fa-file-plus mr-2"></i>
                                    <span class="font-bold">æ–°å»ºæ–‡ä»¶</span>
                                </button>
                            </div>

                            <!-- æ“ä½œçŠ¶æ€ -->
                            <div class="mt-6 p-4 bg-gray-800 rounded-lg">
                                <h4 class="font-bold mb-2">æ“ä½œçŠ¶æ€:</h4>
                                <div id="operation-status" class="text-sm space-y-1">
                                    <div class="flex items-center text-green-400">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        <span>è‡ªåŠ¨ç™»å½•å®Œæˆ</span>
                                    </div>
                                    <div class="flex items-center text-green-400">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        <span>æœåŠ¡å·²å¯åŠ¨</span>
                                    </div>
                                    <div class="text-gray-400">ç­‰å¾…ç”¨æˆ·æ“ä½œ...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Composer æ ‡ç­¾é¡µ -->
                <div id="content-composer" class="h-full p-4 hidden">
                    <div class="h-full bg-gray-800 rounded">
                        <div class="flex justify-between items-center p-4 border-b border-gray-700">
                            <h3 class="text-lg font-bold flex items-center">
                                <i class="fas fa-code mr-2"></i>ä»£ç ç¼–è¾‘å™¨
                            </h3>
                            <div class="text-sm text-gray-400">
                                <span id="current-file">é€‰æ‹©æ–‡ä»¶è¿›è¡Œç¼–è¾‘</span>
                            </div>
                        </div>
                        <div class="p-4 h-full">
                            <textarea id="code-editor" class="w-full h-96 bg-gray-900 text-green-400 p-4 rounded font-mono text-sm" placeholder="é€‰æ‹©å·¦ä¾§æ–‡ä»¶åˆ—è¡¨ä¸­çš„æ–‡ä»¶è¿›è¡Œç¼–è¾‘..."></textarea>
                            <div class="mt-4 flex space-x-2">
                                <button onclick="saveFile()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-sm">
                                    <i class="fas fa-save mr-2"></i>ä¿å­˜æ–‡ä»¶
                                </button>
                                <button onclick="formatCode()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm">
                                    <i class="fas fa-magic mr-2"></i>æ ¼å¼åŒ–ä»£ç 
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å®æ—¶é¢„è§ˆæ ‡ç­¾é¡µ -->
                <div id="content-preview" class="h-full p-4 hidden">
                    <div class="h-full bg-gray-800 rounded">
                        <div class="flex justify-between items-center p-4 border-b border-gray-700">
                            <h3 class="text-lg font-bold flex items-center">
                                <i class="fas fa-eye mr-2"></i>å®æ—¶é¢„è§ˆ
                            </h3>
                            <button onclick="refreshPreview()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded flex items-center">
                                <i class="fas fa-sync mr-2"></i>åˆ·æ–°é¢„è§ˆ
                            </button>
                        </div>
                        <div class="p-4 h-full">
                            <iframe id="preview-frame" src="about:blank" class="w-full h-96 bg-white rounded border"></iframe>
                        </div>
                    </div>
                </div>

                <!-- ç»ˆç«¯æœºæ ‡ç­¾é¡µ -->
                <div id="content-terminal" class="h-full p-4 hidden">
                    <div class="flex h-full">
                        <!-- ç»ˆç«¯åŒºåŸŸ -->
                        <div class="flex-1 mr-4">
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-terminal mr-2"></i>æ™ºèƒ½ç»ˆç«¯æœº
                            </h3>
                            
                            <div class="bg-gray-800 rounded p-4 mb-4">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-desktop mr-2"></i>
                                    <span class="text-sm">SmartUI ç»ˆç«¯æœº - æ™ºèƒ½å¹³å°é€‚é…</span>
                                    <span id="platform-status" class="ml-auto text-xs bg-blue-500 px-2 py-1 rounded">æ­£åœ¨æ£€æµ‹å¹³å°...</span>
                                </div>
                            </div>

                            <div id="terminal-output" class="terminal-output mb-4">SmartUI Terminal v1.0.0 - æ™ºèƒ½å¹³å°é€‚é…
æ­£åœ¨æ£€æµ‹å¹³å°...
ğŸ” æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: äº‘ç«¯æœåŠ¡å™¨ (Linux)
âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Linux - è¿æ¥åˆ° linux_terminal
ğŸ”§ æ­£åœ¨è¿æ¥åˆ° linux_terminal...
âœ… MCPè¿æ¥æˆåŠŸ
ğŸ”§ ç»ˆç«¯æœåŠ¡å·²å¯åŠ¨
ubuntu@smartui:aicore0624$ </div>

                            <div class="flex">
                                <span class="text-green-400 mr-2">$</span>
                                <input type="text" id="terminal-input" class="flex-1 bg-transparent text-green-400 outline-none" placeholder="è¾“å…¥å‘½ä»¤..." onkeypress="handleTerminalInput(event)">
                            </div>

                            <div class="mt-4 text-xs text-gray-400">
                                <i class="fas fa-lightbulb mr-1"></i>
                                <span>æç¤º: æ”¯æŒæ ‡å‡†Unixå‘½ä»¤ï¼Œè¾“å…¥ 'clear' æ¸…å±</span><br>
                                <i class="fas fa-desktop mr-1"></i>
                                <span id="platform-info">å¹³å°è‡ªé€‚åº”: å½“å‰ä¸ºäº‘ç«¯ç¯å¢ƒï¼Œå¦‚åˆ‡æ¢åˆ°æœ¬åœ°å°†è‡ªåŠ¨æ£€æµ‹ Mac/Windows/Linux</span>
                            </div>
                        </div>

                        <!-- å¿«é€Ÿæ“ä½œé¢æ¿ -->
                        <div class="w-80">
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-bolt mr-2"></i>å¿«é€Ÿæ“ä½œ
                            </h3>
                            
                            <div class="space-y-2">
                                <button onclick="openFolder()" class="quick-action-btn w-full bg-blue-600 hover:bg-blue-700 text-white">
                                    <i class="fas fa-folder-open mr-2"></i>
                                    <span class="font-bold">æ‰“å¼€æ–‡ä»¶å¤¹</span>
                                </button>
                                
                                <button onclick="cloneRepository()" class="quick-action-btn w-full bg-green-600 hover:bg-green-700 text-white">
                                    <i class="fas fa-code-branch mr-2"></i>
                                    <span class="font-bold">å…‹éš†Gitä»“åº“</span>
                                </button>
                                
                                <button onclick="connectRemote()" class="quick-action-btn w-full bg-purple-600 hover:bg-purple-700 text-white">
                                    <i class="fas fa-server mr-2"></i>
                                    <span class="font-bold">è¿æ¥è¿œç¨‹ä¸»æœº</span>
                                </button>
                                
                                <button onclick="createFile()" class="quick-action-btn w-full bg-orange-600 hover:bg-orange-700 text-white">
                                    <i class="fas fa-file-plus mr-2"></i>
                                    <span class="font-bold">æ–°å»ºæ–‡ä»¶</span>
                                </button>
                            </div>

                            <!-- æ“ä½œçŠ¶æ€ -->
                            <div class="mt-6 p-4 bg-gray-800 rounded-lg">
                                <h4 class="font-bold mb-2">æ“ä½œçŠ¶æ€:</h4>
                                <div id="terminal-operation-status" class="text-sm space-y-1">
                                    <div class="flex items-center text-green-400">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        <span>è‡ªåŠ¨ç™»å½•å®Œæˆ</span>
                                    </div>
                                    <div class="flex items-center text-green-400">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        <span>æœåŠ¡å·²å¯åŠ¨</span>
                                    </div>
                                    <div class="text-gray-400">ç­‰å¾…ç”¨æˆ·æ“ä½œ...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å›ºå®šåœ¨åº•éƒ¨çš„å¯¹è¯è¾“å…¥æ¡† -->
            <div class="chat-input-area">
                <div class="flex space-x-2">
                    <input type="text" id="query-input" class="flex-1 bg-gray-700 text-white p-3 rounded-lg" placeholder="è¾“å…¥æ‚¨çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼šæˆ‘è¦å¼€å‘è´ªåƒè›‡æ¸¸æˆ...">
                    <button onclick="submitQuery()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg">æŸ¥è¯¢</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentMode = 'cloud'; // 'cloud' æˆ– 'local'
        let currentPlatform = 'linux'; // 'linux', 'mac', 'windows'
        let currentFile = null;

        // æ£€æµ‹å¹³å°
        function detectPlatform() {
            if (currentMode === 'local') {
                // æ¨¡æ‹Ÿæœ¬åœ°ç¯å¢ƒæ£€æµ‹
                const userAgent = navigator.userAgent.toLowerCase();
                if (userAgent.indexOf('mac') !== -1) {
                    currentPlatform = 'mac';
                    return 'macOS';
                } else if (userAgent.indexOf('win') !== -1) {
                    currentPlatform = 'windows';
                    return 'Windows';
                } else {
                    currentPlatform = 'linux';
                    return 'Linux';
                }
            } else {
                currentPlatform = 'linux';
                return 'äº‘ç«¯æœåŠ¡å™¨ (Linux)';
            }
        }

        // æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
        function toggleMode() {
            const modeIndicator = document.getElementById('mode-indicator');
            const modeToggle = document.getElementById('mode-toggle');
            const welcomeMode = document.getElementById('welcome-mode');
            const platformStatus = document.getElementById('platform-status');
            const platformInfo = document.getElementById('platform-info');
            const terminalOutput = document.getElementById('terminal-output');

            if (currentMode === 'cloud') {
                currentMode = 'local';
                const detectedPlatform = detectPlatform();
                
                modeIndicator.innerHTML = 'å¤„ç†æ¨¡å¼ï¼šğŸ’» æœ¬åœ°ç‰ˆæœ¬';
                modeToggle.textContent = 'åˆ‡æ¢åˆ°äº‘ç«¯';
                welcomeMode.textContent = 'æœ¬åœ°ç‰ˆæœ¬';
                
                if (platformStatus) {
                    platformStatus.innerHTML = `å·²æ£€æµ‹åˆ° ${detectedPlatform}`;
                    platformStatus.className = 'ml-auto text-xs bg-green-500 px-2 py-1 rounded';
                }
                
                if (platformInfo) {
                    if (currentPlatform === 'mac') {
                        platformInfo.textContent = 'å¹³å°è‡ªé€‚åº”: å·²æ£€æµ‹åˆ° macOSï¼Œå¯ç”¨ Mac ç»ˆç«¯æœºå’Œ MCP æ”¯æŒ';
                    } else if (currentPlatform === 'windows') {
                        platformInfo.textContent = 'å¹³å°è‡ªé€‚åº”: å·²æ£€æµ‹åˆ° Windowsï¼Œå¯ç”¨ WSL ç»ˆç«¯æœºå’Œ MCP æ”¯æŒ';
                    } else {
                        platformInfo.textContent = 'å¹³å°è‡ªé€‚åº”: å·²æ£€æµ‹åˆ° Linuxï¼Œå¯ç”¨æœ¬åœ°ç»ˆç«¯æœº';
                    }
                }

                // æ›´æ–°ç»ˆç«¯è¾“å‡º
                if (terminalOutput) {
                    let terminalText = 'SmartUI Terminal v1.0.0 - æ™ºèƒ½å¹³å°é€‚é…\næ­£åœ¨æ£€æµ‹å¹³å°...\n';
                    terminalText += `ğŸ” æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: ${detectedPlatform}\n`;
                    
                    if (currentPlatform === 'mac') {
                        terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: macOS - è¿æ¥åˆ° mac_terminal\n';
                        terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° mac_terminal_mcp...\n';
                        terminalText += 'âœ… Mac MCPè¿æ¥æˆåŠŸ\n';
                        terminalText += 'ğŸ”§ Macç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                        terminalText += 'user@MacBook-Pro:aicore0624$ ';
                    } else if (currentPlatform === 'windows') {
                        terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Windows - è¿æ¥åˆ° wsl_terminal\n';
                        terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° wsl_mcp...\n';
                        terminalText += 'âœ… WSL MCPè¿æ¥æˆåŠŸ\n';
                        terminalText += 'ğŸ”§ WSLç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                        terminalText += 'user@DESKTOP-PC:aicore0624$ ';
                    } else {
                        terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Linux - è¿æ¥åˆ° linux_terminal\n';
                        terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° linux_terminal...\n';
                        terminalText += 'âœ… æœ¬åœ°Linux MCPè¿æ¥æˆåŠŸ\n';
                        terminalText += 'ğŸ”§ æœ¬åœ°ç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                        terminalText += 'user@localhost:aicore0624$ ';
                    }
                    
                    terminalOutput.textContent = terminalText;
                }
            } else {
                currentMode = 'cloud';
                currentPlatform = 'linux';
                
                modeIndicator.innerHTML = 'å¤„ç†æ¨¡å¼ï¼šğŸŒ äº‘ç«¯ç‰ˆæœ¬';
                modeToggle.textContent = 'åˆ‡æ¢åˆ°æœ¬åœ°';
                welcomeMode.textContent = 'äº‘ç«¯ç‰ˆæœ¬';
                
                if (platformStatus) {
                    platformStatus.innerHTML = 'äº‘ç«¯æœåŠ¡å™¨ (Linux)';
                    platformStatus.className = 'ml-auto text-xs bg-blue-500 px-2 py-1 rounded';
                }
                
                if (platformInfo) {
                    platformInfo.textContent = 'å¹³å°è‡ªé€‚åº”: å½“å‰ä¸ºäº‘ç«¯ç¯å¢ƒï¼Œå¦‚åˆ‡æ¢åˆ°æœ¬åœ°å°†è‡ªåŠ¨æ£€æµ‹ Mac/Windows/Linux';
                }

                // é‡ç½®ç»ˆç«¯è¾“å‡º
                if (terminalOutput) {
                    terminalOutput.textContent = `SmartUI Terminal v1.0.0 - æ™ºèƒ½å¹³å°é€‚é…
æ­£åœ¨æ£€æµ‹å¹³å°...
ğŸ” æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: äº‘ç«¯æœåŠ¡å™¨ (Linux)
âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Linux - è¿æ¥åˆ° linux_terminal
ğŸ”§ æ­£åœ¨è¿æ¥åˆ° linux_terminal...
âœ… MCPè¿æ¥æˆåŠŸ
ğŸ”§ ç»ˆç«¯æœåŠ¡å·²å¯åŠ¨
ubuntu@smartui:aicore0624$ `;
                }
            }
        }

        // æ–‡ä»¶æ“ä½œåŠŸèƒ½
        function openFile(fileName) {
            currentFile = fileName;
            showTab('composer');
            
            const currentFileSpan = document.getElementById('current-file');
            const codeEditor = document.getElementById('code-editor');
            
            if (currentFileSpan) {
                currentFileSpan.textContent = `æ­£åœ¨ç¼–è¾‘: ${fileName}`;
            }
            
            // æ¨¡æ‹Ÿæ–‡ä»¶å†…å®¹
            let fileContent = '';
            if (fileName === 'README.md') {
                fileContent = `# SmartUI + SmartInvention Flow MCP

## é¡¹ç›®ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ªé›†æˆäº† SmartInvention Flow MCP çš„ SmartUI å·¥ä½œåŒºé¡¹ç›®ã€‚

## åŠŸèƒ½ç‰¹æ€§
- AIé©±åŠ¨çš„æ™ºèƒ½æŸ¥è¯¢ç³»ç»Ÿ
- è·¨å¹³å°ç»ˆç«¯æœºæ”¯æŒ (Mac/Windows/Linux)
- å®æ—¶é¢„è§ˆåŠŸèƒ½
- å¿«é€Ÿæ“ä½œé¢æ¿
- æ–‡ä»¶ç¼–è¾‘å’Œç®¡ç†

## æŠ€æœ¯æ ˆ
- Frontend: HTML5, CSS3, JavaScript, Tailwind CSS
- Backend: PowerAutomation MCP
- Platform: Cross-platform support

## ä½¿ç”¨è¯´æ˜
1. é€‰æ‹©è¿è¡Œæ¨¡å¼ (äº‘ç«¯/æœ¬åœ°)
2. ä½¿ç”¨æ™ºèƒ½æŸ¥è¯¢è¿›è¡Œå¼€å‘
3. é€šè¿‡ç»ˆç«¯æœºæ‰§è¡Œå‘½ä»¤
4. å®æ—¶é¢„è§ˆå¼€å‘ç»“æœ

## éƒ¨ç½²çŠ¶æ€
- âœ… PowerAutomation_local è‡ªåŠ¨æˆåŠŸ
- âœ… PowerAutomation_web è‡ªåŠ¨æˆåŠŸ  
- âœ… SmartUI å·¥ä½œåŒºå·²å°±ç»ª`;
            } else if (fileName === 'package.json') {
                fileContent = `{
  "name": "smartui-aicore0624",
  "version": "1.0.0",
  "description": "SmartUI + SmartInvention Flow MCP Integration",
  "main": "index.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "build": "webpack --mode production",
    "test": "jest"
  },
  "dependencies": {
    "express": "^4.18.0",
    "socket.io": "^4.7.0",
    "tailwindcss": "^3.3.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.0",
    "webpack": "^5.88.0",
    "jest": "^29.6.0"
  },
  "keywords": [
    "smartui",
    "mcp",
    "ai",
    "automation"
  ],
  "author": "alexchuang650730",
  "license": "MIT"
}`;
            } else {
                fileContent = `// ${fileName} æ–‡ä»¶å†…å®¹
// è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤ç¼–è¾‘ä»£ç 

console.log('æ¬¢è¿ä½¿ç”¨ SmartUI ä»£ç ç¼–è¾‘å™¨ï¼');

// TODO: æ·»åŠ æ‚¨çš„ä»£ç é€»è¾‘
`;
            }
            
            if (codeEditor) {
                codeEditor.value = fileContent;
            }
        }

        function saveFile() {
            if (currentFile) {
                updateOperationStatus(`æ­£åœ¨ä¿å­˜ ${currentFile}...`, 'blue');
                setTimeout(() => {
                    updateOperationStatus(`${currentFile} ä¿å­˜æˆåŠŸ`, 'green');
                }, 1500);
            } else {
                updateOperationStatus('è¯·å…ˆé€‰æ‹©è¦ä¿å­˜çš„æ–‡ä»¶', 'yellow');
            }
        }

        function formatCode() {
            updateOperationStatus('æ­£åœ¨æ ¼å¼åŒ–ä»£ç ...', 'blue');
            setTimeout(() => {
                updateOperationStatus('ä»£ç æ ¼å¼åŒ–å®Œæˆ', 'green');
            }, 1000);
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function showTab(tabName) {
            // éšè—æ‰€æœ‰å†…å®¹
            const contents = ['cascade', 'composer', 'preview', 'terminal'];
            contents.forEach(content => {
                document.getElementById('content-' + content).classList.add('hidden');
                document.getElementById('tab-' + content).classList.remove('bg-blue-600');
                document.getElementById('tab-' + content).classList.add('bg-gray-600');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹
            document.getElementById('content-' + tabName).classList.remove('hidden');
            document.getElementById('tab-' + tabName).classList.remove('bg-gray-600');
            document.getElementById('tab-' + tabName).classList.add('bg-blue-600');
        }

        // æŸ¥è¯¢åŠŸèƒ½
        function submitQuery() {
            const input = document.getElementById('query-input');
            const query = input.value.trim();
            if (!query) return;

            const chatHistory = document.getElementById('chat-history');
            const timestamp = new Date().toLocaleString();
            
            // æ·»åŠ ç”¨æˆ·æŸ¥è¯¢
            chatHistory.innerHTML += `
                <div class="mb-4 p-3 bg-blue-600 rounded-lg">
                    <div class="text-xs text-blue-200 mb-1">æŸ¥è¯¢æ—¶é—´: ${timestamp}</div>
                    <div class="text-xs text-blue-200 mb-1">å¤„ç†æ¨¡å¼: ${currentMode === 'cloud' ? 'ğŸŒ äº‘ç«¯ç‰ˆæœ¬' : 'ğŸ’» æœ¬åœ°ç‰ˆæœ¬'}</div>
                    <div class="text-xs text-blue-200 mb-2">è‡ªåŠ¨ç™»å½•çŠ¶æ€: âœ… å·²å¯ç”¨</div>
                    <div class="font-bold">æŸ¥è¯¢: ${query}</div>
                </div>
            `;

            // æ¨¡æ‹ŸAIå“åº”
            setTimeout(() => {
                chatHistory.innerHTML += `
                    <div class="mb-4 p-4 bg-gray-700 rounded-lg">
                        <div class="font-bold mb-2">ğŸ¯ ${query}</div>
                        <div class="mb-3">
                            <div class="flex items-center mb-1">
                                <i class="fas fa-gamepad mr-2"></i>
                                <span class="font-bold">æ™ºèƒ½å¼€å‘æ–¹æ¡ˆ</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="font-bold mb-2">æŠ€æœ¯æ ˆæ¨è</div>
                            <div class="text-sm">
                                - å‰ç«¯: HTML5 Canvas + JavaScript<br>
                                - æ ·å¼: CSS3 + å“åº”å¼è®¾è®¡<br>
                                - æ§åˆ¶: é”®ç›˜äº‹ä»¶ç›‘å¬<br>
                                - éƒ¨ç½²: ${currentMode === 'cloud' ? 'äº‘ç«¯è‡ªåŠ¨éƒ¨ç½²' : 'æœ¬åœ°å¼€å‘ç¯å¢ƒ'}
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="font-bold mb-2">å®ç°æ­¥éª¤</div>
                            <div class="text-sm">
                                1. åˆ›å»ºæ¸¸æˆç”»å¸ƒ<br>
                                2. å®ç°è›‡çš„ç§»åŠ¨é€»è¾‘<br>
                                3. æ·»åŠ é£Ÿç‰©ç”Ÿæˆæœºåˆ¶<br>
                                4. ç¢°æ’æ£€æµ‹å’Œæ¸¸æˆç»“æŸ<br>
                                5. åˆ†æ•°ç³»ç»Ÿå’Œé‡æ–°å¼€å§‹
                            </div>
                        </div>
                        <div class="text-xs text-gray-400 mt-2">
                            ğŸ’¡ æç¤º: å¯ä»¥ä½¿ç”¨å®æ—¶é¢„è§ˆåŠŸèƒ½æŸ¥çœ‹å¼€å‘æ•ˆæœ
                        </div>
                    </div>
                `;
                chatHistory.scrollTop = chatHistory.scrollHeight;
            }, 1000);

            input.value = '';
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }

        // å¿«é€Ÿæ“ä½œåŠŸèƒ½
        function openFolder() {
            updateOperationStatus('æ­£åœ¨æ‰“å¼€æ–‡ä»¶å¤¹...', 'blue');
            setTimeout(() => {
                updateOperationStatus('æ–‡ä»¶å¤¹æ“ä½œå®Œæˆ', 'green');
                // æ¨¡æ‹Ÿæ‰“å¼€æ–‡ä»¶å¤¹åçš„æ•ˆæœ
                if (currentMode === 'local') {
                    alert('æœ¬åœ°æ–‡ä»¶å¤¹å·²æ‰“å¼€ï¼');
                } else {
                    alert('äº‘ç«¯æ–‡ä»¶å¤¹å·²æ‰“å¼€ï¼');
                }
            }, 2000);
        }

        function cloneRepository() {
            updateOperationStatus('æ­£åœ¨å…‹éš†Gitä»“åº“...', 'blue');
            setTimeout(() => {
                updateOperationStatus('Gitä»“åº“å…‹éš†å®Œæˆ', 'green');
                const repoUrl = prompt('è¯·è¾“å…¥è¦å…‹éš†çš„Gitä»“åº“URL:', 'https://github.com/alexchuang650730/example-repo.git');
                if (repoUrl) {
                    alert(`æ­£åœ¨å…‹éš†ä»“åº“: ${repoUrl}`);
                }
            }, 3000);
        }

        function connectRemote() {
            updateOperationStatus('æ­£åœ¨è¿æ¥è¿œç¨‹ä¸»æœº...', 'blue');
            setTimeout(() => {
                updateOperationStatus('è¿œç¨‹ä¸»æœºè¿æ¥æˆåŠŸ', 'green');
                const remoteHost = prompt('è¯·è¾“å…¥è¿œç¨‹ä¸»æœºåœ°å€:', '192.168.1.100');
                if (remoteHost) {
                    alert(`æ­£åœ¨è¿æ¥åˆ°: ${remoteHost}`);
                }
            }, 2500);
        }

        function createFile() {
            updateOperationStatus('æ­£åœ¨åˆ›å»ºæ–°æ–‡ä»¶...', 'blue');
            setTimeout(() => {
                updateOperationStatus('æ–°æ–‡ä»¶åˆ›å»ºå®Œæˆ', 'green');
                const fileName = prompt('è¯·è¾“å…¥æ–°æ–‡ä»¶å:', 'new-file.js');
                if (fileName) {
                    openFile(fileName);
                }
            }, 1500);
        }

        function updateOperationStatus(message, color) {
            const statusElement = document.getElementById('operation-status');
            const terminalStatusElement = document.getElementById('terminal-operation-status');
            const colorClass = color === 'green' ? 'text-green-400' : color === 'blue' ? 'text-blue-400' : 'text-yellow-400';
            const icon = color === 'green' ? 'fa-check-circle' : color === 'blue' ? 'fa-spinner fa-spin' : 'fa-exclamation-circle';
            
            const statusHTML = `
                <div class="flex items-center text-green-400">
                    <i class="fas fa-check-circle mr-2"></i>
                    <span>è‡ªåŠ¨ç™»å½•å®Œæˆ</span>
                </div>
                <div class="flex items-center text-green-400">
                    <i class="fas fa-check-circle mr-2"></i>
                    <span>æœåŠ¡å·²å¯åŠ¨</span>
                </div>
                <div class="flex items-center ${colorClass}">
                    <i class="fas ${icon} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            if (statusElement) statusElement.innerHTML = statusHTML;
            if (terminalStatusElement) terminalStatusElement.innerHTML = statusHTML;
        }

        // å®æ—¶é¢„è§ˆåŠŸèƒ½
        function refreshPreview() {
            const previewFrame = document.getElementById('preview-frame');
            const sampleHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>SmartUI å®æ—¶é¢„è§ˆ</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            padding: 20px; 
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                            color: white; 
                            margin: 0;
                        }
                        .container { 
                            max-width: 800px; 
                            margin: 0 auto; 
                            text-align: center; 
                        }
                        .demo-box { 
                            background: rgba(255,255,255,0.1); 
                            padding: 30px; 
                            border-radius: 10px; 
                            margin: 20px 0; 
                            backdrop-filter: blur(10px);
                        }
                        .btn { 
                            background: #4CAF50; 
                            color: white; 
                            padding: 10px 20px; 
                            border: none; 
                            border-radius: 5px; 
                            cursor: pointer; 
                            transition: background 0.3s;
                        }
                        .btn:hover { background: #45a049; }
                        .status { 
                            display: inline-block; 
                            padding: 5px 10px; 
                            background: rgba(0,255,0,0.2); 
                            border-radius: 15px; 
                            font-size: 12px; 
                            margin: 5px;
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>ğŸš€ SmartUI å®æ—¶é¢„è§ˆ</h1>
                        <div class="demo-box">
                            <h2>é¢„è§ˆåŠŸèƒ½æ­£å¸¸å·¥ä½œï¼</h2>
                            <p>è¿è¡Œæ¨¡å¼: <strong>${currentMode === 'cloud' ? 'äº‘ç«¯ç‰ˆæœ¬' : 'æœ¬åœ°ç‰ˆæœ¬'}</strong></p>
                            <p>è¿™æ˜¯ä¸€ä¸ªå®æ—¶é¢„è§ˆç¤ºä¾‹ï¼Œå±•ç¤ºäº†HTMLã€CSSå’ŒJavaScriptçš„æ¸²æŸ“æ•ˆæœã€‚</p>
                            <button class="btn" onclick="alert('é¢„è§ˆåŠŸèƒ½æµ‹è¯•æˆåŠŸï¼\\nå½“å‰æ¨¡å¼: ${currentMode === 'cloud' ? 'äº‘ç«¯ç‰ˆæœ¬' : 'æœ¬åœ°ç‰ˆæœ¬'}')">ç‚¹å‡»æµ‹è¯•</button>
                        </div>
                        <div class="demo-box">
                            <h3>åŠŸèƒ½çŠ¶æ€</h3>
                            <div style="text-align: left; display: inline-block;">
                                <div class="status">âœ… å®æ—¶HTMLæ¸²æŸ“</div>
                                <div class="status">âœ… CSSæ ·å¼æ”¯æŒ</div>
                                <div class="status">âœ… JavaScriptäº¤äº’</div>
                                <div class="status">âœ… å“åº”å¼è®¾è®¡</div>
                                <div class="status">âœ… ${currentMode === 'cloud' ? 'äº‘ç«¯éƒ¨ç½²' : 'æœ¬åœ°å¼€å‘'}</div>
                            </div>
                        </div>
                        <p><small>é¢„è§ˆæ›´æ–°æ—¶é—´: ${new Date().toLocaleString()}</small></p>
                    </div>
                </body>
                </html>
            `;
            
            previewFrame.srcdoc = sampleHTML;
        }

        // ç»ˆç«¯æœºåŠŸèƒ½
        function handleTerminalInput(event) {
            if (event.key === 'Enter') {
                const input = document.getElementById('terminal-input');
                const command = input.value.trim();
                if (!command) return;

                const output = document.getElementById('terminal-output');
                
                // æ ¹æ®å½“å‰å¹³å°æ˜¾ç¤ºä¸åŒçš„æç¤ºç¬¦
                let prompt = 'ubuntu@smartui:aicore0624$ ';
                if (currentMode === 'local') {
                    if (currentPlatform === 'mac') {
                        prompt = 'user@MacBook-Pro:aicore0624$ ';
                    } else if (currentPlatform === 'windows') {
                        prompt = 'user@DESKTOP-PC:aicore0624$ ';
                    } else {
                        prompt = 'user@localhost:aicore0624$ ';
                    }
                }
                
                output.textContent += `\n${prompt}${command}\n`;

                // æ¨¡æ‹Ÿå‘½ä»¤æ‰§è¡Œ
                setTimeout(() => {
                    if (command === 'clear') {
                        const detectedPlatform = detectPlatform();
                        let terminalText = 'SmartUI Terminal v1.0.0 - æ™ºèƒ½å¹³å°é€‚é…\næ­£åœ¨æ£€æµ‹å¹³å°...\n';
                        terminalText += `ğŸ” æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: ${detectedPlatform}\n`;
                        
                        if (currentMode === 'local') {
                            if (currentPlatform === 'mac') {
                                terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: macOS - è¿æ¥åˆ° mac_terminal\n';
                                terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° mac_terminal_mcp...\n';
                                terminalText += 'âœ… Mac MCPè¿æ¥æˆåŠŸ\n';
                                terminalText += 'ğŸ”§ Macç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                                terminalText += 'user@MacBook-Pro:aicore0624$ ';
                            } else if (currentPlatform === 'windows') {
                                terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Windows - è¿æ¥åˆ° wsl_terminal\n';
                                terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° wsl_mcp...\n';
                                terminalText += 'âœ… WSL MCPè¿æ¥æˆåŠŸ\n';
                                terminalText += 'ğŸ”§ WSLç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                                terminalText += 'user@DESKTOP-PC:aicore0624$ ';
                            } else {
                                terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Linux - è¿æ¥åˆ° linux_terminal\n';
                                terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° linux_terminal...\n';
                                terminalText += 'âœ… æœ¬åœ°Linux MCPè¿æ¥æˆåŠŸ\n';
                                terminalText += 'ğŸ”§ æœ¬åœ°ç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                                terminalText += 'user@localhost:aicore0624$ ';
                            }
                        } else {
                            terminalText += 'âœ… å¹³å°æ£€æµ‹æˆåŠŸ: Linux - è¿æ¥åˆ° linux_terminal\n';
                            terminalText += 'ğŸ”§ æ­£åœ¨è¿æ¥åˆ° linux_terminal...\n';
                            terminalText += 'âœ… MCPè¿æ¥æˆåŠŸ\n';
                            terminalText += 'ğŸ”§ ç»ˆç«¯æœåŠ¡å·²å¯åŠ¨\n';
                            terminalText += 'ubuntu@smartui:aicore0624$ ';
                        }
                        
                        output.textContent = terminalText;
                    } else if (command === 'ls') {
                        output.textContent += 'PowerAutomation_local/  powerautomation_web/\nREADME.md  package.json\n';
                    } else if (command === 'pwd') {
                        if (currentMode === 'local') {
                            output.textContent += '/Users/user/smartui/aicore0624\n';
                        } else {
                            output.textContent += '/home/ubuntu/smartui/aicore0624\n';
                        }
                    } else if (command.startsWith('echo ')) {
                        output.textContent += command.substring(5) + '\n';
                    } else if (command === 'whoami') {
                        if (currentMode === 'local') {
                            output.textContent += currentPlatform === 'mac' ? 'user\n' : 'user\n';
                        } else {
                            output.textContent += 'ubuntu\n';
                        }
                    } else if (command === 'uname -a') {
                        if (currentMode === 'local') {
                            if (currentPlatform === 'mac') {
                                output.textContent += 'Darwin MacBook-Pro.local 23.1.0 Darwin Kernel Version 23.1.0\n';
                            } else if (currentPlatform === 'windows') {
                                output.textContent += 'Linux DESKTOP-PC 5.15.90.1-microsoft-standard-WSL2\n';
                            } else {
                                output.textContent += 'Linux localhost 5.15.0-91-generic #101-Ubuntu SMP\n';
                            }
                        } else {
                            output.textContent += 'Linux smartui 5.15.0-91-generic #101-Ubuntu SMP\n';
                        }
                    } else {
                        output.textContent += `bash: ${command}: command not found\n`;
                    }
                    output.textContent += prompt;
                    output.scrollTop = output.scrollHeight;
                }, 500);

                input.value = '';
            }
        }

        // é€€å‡ºç™»å½•åŠŸèƒ½
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                window.location.href = 'smartui_login.html';
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // é»˜è®¤æ˜¾ç¤ºCascadeæ ‡ç­¾é¡µ
            showTab('cascade');
            
            // æ”¯æŒEnteré”®æäº¤æŸ¥è¯¢
            document.getElementById('query-input').addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    submitQuery();
                }
            });

            // åˆå§‹åŒ–å¹³å°æ£€æµ‹
            detectPlatform();
        });
    </script>
</body>
</html>

