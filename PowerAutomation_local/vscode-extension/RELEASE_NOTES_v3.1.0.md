# PowerAutomation v3.1.0 發布說明

## 🎉 新功能

### 智慧登錄系統
- **用戶類型區分**: 支援開發者和普通用戶兩種登錄模式
- **多種登錄方式**: 
  - 開發者: API Key 快速登錄、本地開發模式
  - 用戶: GitHub、Google、Microsoft OAuth 登錄、郵箱密碼登錄
- **智慧UI適配**: 根據用戶類型和權限動態調整界面功能

### 增強的認證系統
- **安全存儲**: 使用 VS Code SecretStorage 保護用戶憑證
- **權限管理**: 基於用戶類型和訂閱級別的功能權限控制
- **狀態管理**: 持久化登錄狀態，自動重連機制

### 改進的用戶界面
- **認證面板**: 全新的登錄界面，支援用戶類型選擇
- **儀表板**: 顯示用戶資料、系統狀態、使用統計
- **AI助手**: 權限控制的聊天功能，支援文件分析和高級功能
- **響應式設計**: 適配 VS Code 主題，支援深色/淺色模式

### MCP 服務整合
- **認證整合**: 所有 MCP 請求自動包含用戶認證信息
- **用戶上下文**: 請求中包含用戶類型、角色等上下文信息
- **錯誤處理**: 改進的錯誤處理和用戶反饋機制

## 🔧 技術改進

### 架構優化
- **模組化設計**: 分離認證服務、UI組件和業務邏輯
- **TypeScript**: 完整的類型定義和編譯時檢查
- **依賴管理**: 使用 axios 替代 fetch，提高兼容性

### 安全性增強
- **API Key 驗證**: 格式驗證和端點測試
- **權限檢查**: 所有敏感操作都進行權限驗證
- **安全通信**: HTTPS 通信和 Bearer Token 認證

## 📋 使用指南

### 首次使用
1. 安裝擴展後，會自動顯示登錄界面
2. 選擇您的身份類型（開發者/用戶）
3. 根據提示完成登錄流程

### 開發者模式
- 使用 API Key 快速登錄
- 享受完整的開發工具和調試功能
- 支援本地開發模式（離線使用）

### 用戶模式
- 通過 OAuth 或郵箱登錄
- 使用 AI 助手進行日常編程工作
- 雲端同步和歷史記錄

## 🐛 修復問題

- 修復了 MCP 連接的穩定性問題
- 改進了錯誤處理和用戶提示
- 優化了界面響應速度
- 修復了多個 TypeScript 編譯錯誤

## 📦 安裝方式

1. 下載 `powerautomation-local-mcp-3.1.0.vsix` 文件
2. 在 VS Code 中按 `Ctrl+Shift+P` 打開命令面板
3. 輸入 "Extensions: Install from VSIX..."
4. 選擇下載的 VSIX 文件進行安裝

## 🔄 升級說明

從 v3.0.0 升級到 v3.1.0：
- 自動保留現有配置
- 首次啟動會要求重新登錄
- 建議清除舊的 API Key 配置，使用新的登錄系統

## 📞 支援

如有問題或建議，請聯繫：
- GitHub: https://github.com/alexchuang650730/aicore0623
- Email: support@powerautomation.ai

---

**PowerAutomation Team**  
版本: v3.1.0  
發布日期: 2025-06-25

