{
  "test_session": {
    "start_time": "2025-06-25T04:14:37.258476",
    "end_time": "2025-06-25T04:14:42.281979",
    "total_tests": 5,
    "passed_tests": 2,
    "failed_tests": 3
  },
  "test_results": [
    {
      "test_name": "服務器連接性測試",
      "success": true,
      "timestamp": "2025-06-25T04:14:37.262423",
      "details": {
        "status_code": 200,
        "response": {
          "api_keys_count": 3,
          "features": [
            "test_flow_mcp_integration",
            "api_key_authentication",
            "developer_mode_support",
            "requirement_analysis"
          ],
          "system_type": "test_flow_mcp_integration_server",
          "test_flow_mcp_enabled": true,
          "uptime_seconds": 52.92592763900757
        }
      }
    },
    {
      "test_name": "API Key 認證測試",
      "success": true,
      "timestamp": "2025-06-25T04:14:38.269028",
      "details": {
        "no_key_status": 401,
        "with_key_status": 200,
        "with_key_response": {
          "confidence": 0.85,
          "execution_time": 2.5,
          "metadata": {
            "fixes_generated": 2,
            "processing_mode": "developer_mode",
            "stages_completed": 4,
            "system_type": "test_flow_mcp_integrated",
            "test_flow_enabled": true,
            "user_role": "developer"
          },
          "request_id": "dev_1750839278",
          "result": {
            "code_fixes": [
              {
                "file_path": "/path/to/component.py",
                "fix_type": "error_handling",
                "issue": "缺少錯誤處理",
                "suggested_code": "try-except block implementation"
              },
              {
                "file_path": "/path/to/test.py",
                "fix_type": "test_enhancement",
                "issue": "測試覆蓋率不足",
                "suggested_code": "additional test cases"
              }
            ],
            "evaluation_report": {
              "areas_evaluated": [
                "functionality",
                "maintainability",
                "testability"
              ],
              "improvement_potential": "high",
              "overall_score": 7.5
            },
            "processing_stages": [
              "需求同步引擎 (Requirement Sync Engine)",
              "比較分析引擎 (Comparison Analysis Engine)",
              "評估報告生成器 (Evaluation Report Generator)",
              "Code Fix Adapter"
            ],
            "recommendations": [
              "實施建議的代碼修復",
              "增加測試覆蓋率",
              "更新系統文檔",
              "進行代碼審查"
            ],
            "test_flow_analysis": {
              "comparison_analysis": {
                "current_system_state": "analyzed",
                "differences_identified": 3,
                "improvement_areas": [
                  "code_quality",
                  "test_coverage",
                  "documentation"
                ],
                "manus_standard_comparison": "completed"
              },
              "evaluation_report": {
                "detailed_findings": [
                  "代碼質量需要提升",
                  "測試覆蓋率不足",
                  "文檔需要更新"
                ],
                "executive_summary": "系統需求分析完成，發現3個改進領域",
                "priority_recommendations": [
                  "增加單元測試",
                  "重構核心模塊",
                  "更新API文檔"
                ]
              },
              "requirement_sync": {
                "manus_integration": true,
                "requirement_id": "req_1750839278",
                "sync_status": "completed"
              }
            }
          },
          "success": true,
          "tools_used": [
            "test_flow_mcp",
            "requirement_sync",
            "comparison_analysis",
            "code_fix_adapter"
          ]
        }
      }
    },
    {
      "test_name": "需求分析工作流測試",
      "success": false,
      "timestamp": "2025-06-25T04:14:39.273002",
      "details": {
        "status_code": 200,
        "response_data": {
          "confidence": 0.85,
          "execution_time": 2.5,
          "metadata": {
            "fixes_generated": 2,
            "processing_mode": "developer_mode",
            "stages_completed": 4,
            "system_type": "test_flow_mcp_integrated",
            "test_flow_enabled": true,
            "user_role": "developer"
          },
          "request_id": "dev_1750839279",
          "result": {
            "code_fixes": [
              {
                "file_path": "/path/to/component.py",
                "fix_type": "error_handling",
                "issue": "缺少錯誤處理",
                "suggested_code": "try-except block implementation"
              },
              {
                "file_path": "/path/to/test.py",
                "fix_type": "test_enhancement",
                "issue": "測試覆蓋率不足",
                "suggested_code": "additional test cases"
              }
            ],
            "evaluation_report": {
              "areas_evaluated": [
                "functionality",
                "maintainability",
                "testability"
              ],
              "improvement_potential": "high",
              "overall_score": 7.5
            },
            "processing_stages": [
              "需求同步引擎 (Requirement Sync Engine)",
              "比較分析引擎 (Comparison Analysis Engine)",
              "評估報告生成器 (Evaluation Report Generator)",
              "Code Fix Adapter"
            ],
            "recommendations": [
              "實施建議的代碼修復",
              "增加測試覆蓋率",
              "更新系統文檔",
              "進行代碼審查"
            ],
            "test_flow_analysis": {
              "comparison_analysis": {
                "current_system_state": "analyzed",
                "differences_identified": 3,
                "improvement_areas": [
                  "code_quality",
                  "test_coverage",
                  "documentation"
                ],
                "manus_standard_comparison": "completed"
              },
              "evaluation_report": {
                "detailed_findings": [
                  "代碼質量需要提升",
                  "測試覆蓋率不足",
                  "文檔需要更新"
                ],
                "executive_summary": "系統需求分析完成，發現3個改進領域",
                "priority_recommendations": [
                  "增加單元測試",
                  "重構核心模塊",
                  "更新API文檔"
                ]
              },
              "requirement_sync": {
                "manus_integration": true,
                "requirement_id": "req_1750839279",
                "sync_status": "completed"
              }
            }
          },
          "success": true,
          "tools_used": [
            "test_flow_mcp",
            "requirement_sync",
            "comparison_analysis",
            "code_fix_adapter"
          ]
        },
        "has_required_fields": false,
        "is_developer_role": false,
        "has_processing_result": false,
        "response_length": 1578
      }
    },
    {
      "test_name": "test_flow_mcp 集成測試",
      "success": false,
      "timestamp": "2025-06-25T04:14:40.277431",
      "details": {
        "status_code": 200,
        "response_data": {
          "confidence": 0.85,
          "execution_time": 2.5,
          "metadata": {
            "fixes_generated": 2,
            "processing_mode": "developer_mode",
            "stages_completed": 4,
            "system_type": "test_flow_mcp_integrated",
            "test_flow_enabled": true,
            "user_role": "developer"
          },
          "request_id": "dev_1750839280",
          "result": {
            "code_fixes": [
              {
                "file_path": "/path/to/component.py",
                "fix_type": "error_handling",
                "issue": "缺少錯誤處理",
                "suggested_code": "try-except block implementation"
              },
              {
                "file_path": "/path/to/test.py",
                "fix_type": "test_enhancement",
                "issue": "測試覆蓋率不足",
                "suggested_code": "additional test cases"
              }
            ],
            "evaluation_report": {
              "areas_evaluated": [
                "functionality",
                "maintainability",
                "testability"
              ],
              "improvement_potential": "high",
              "overall_score": 7.5
            },
            "processing_stages": [
              "需求同步引擎 (Requirement Sync Engine)",
              "比較分析引擎 (Comparison Analysis Engine)",
              "評估報告生成器 (Evaluation Report Generator)",
              "Code Fix Adapter"
            ],
            "recommendations": [
              "實施建議的代碼修復",
              "增加測試覆蓋率",
              "更新系統文檔",
              "進行代碼審查"
            ],
            "test_flow_analysis": {
              "comparison_analysis": {
                "current_system_state": "analyzed",
                "differences_identified": 3,
                "improvement_areas": [
                  "code_quality",
                  "test_coverage",
                  "documentation"
                ],
                "manus_standard_comparison": "completed"
              },
              "evaluation_report": {
                "detailed_findings": [
                  "代碼質量需要提升",
                  "測試覆蓋率不足",
                  "文檔需要更新"
                ],
                "executive_summary": "系統需求分析完成，發現3個改進領域",
                "priority_recommendations": [
                  "增加單元測試",
                  "重構核心模塊",
                  "更新API文檔"
                ]
              },
              "requirement_sync": {
                "manus_integration": true,
                "requirement_id": "req_1750839280",
                "sync_status": "completed"
              }
            }
          },
          "success": true,
          "tools_used": [
            "test_flow_mcp",
            "requirement_sync",
            "comparison_analysis",
            "code_fix_adapter"
          ]
        },
        "is_developer_mode": false,
        "has_test_content": true,
        "response_keywords": [
          "test",
          "coverage",
          "analysis",
          "mcp",
          "flow"
        ]
      }
    },
    {
      "test_name": "開發者與使用者角色區分測試",
      "success": false,
      "timestamp": "2025-06-25T04:14:41.281477",
      "details": {
        "developer_test": {
          "status_code": 200,
          "identified_role": null,
          "is_correct_role": false
        }
      }
    }
  ],
  "server_config": {
    "server_url": "http://127.0.0.1:8080",
    "api_key_used": "dev_407CYuVK..."
  }
}